@model IEnumerable<DAO.LopTinChi>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Danh sách lớp tín chỉ</h2>

<p>
    @Html.ActionLink("Thêm mới", "Create")
</p>
<table class="table table-hover">
    <tr>
        <th>
            Niên khóa
        </th>
        <th>
            Học kỳ
        </th>
        <th>
           Nhóm
        </th>
        <th>
            Giảng viên
        </th>
        <th>
            Tên môn học
        </th>
        <th>
            Số sinh viên đăng ký
        </th>
        <th>
            Trạng thái
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.NienKhoaHocKy.NienKhoa)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.NienKhoaHocKy.HocKy)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Nhom)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.GiangVien.HoVaTenLot) @Html.DisplayFor(modelItem => item.GiangVien.TenGV)
            
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MonHoc.TenMH)
        </td>
        <td>
            @{ 
                var dem = item.SinhViens.Count;
                @Html.Raw(dem)
            }
        </td>
        <td>
            @{ 
                if (item.TrangThai == true)
                {
                  @Html.Raw("Mở")
                }
                else
                {
                  @Html.Raw("Đóng")
                }
            }
        </td>
        <td>
            @Html.ActionLink("Sửa", "Edit", new { id=item.MaLopTC }) |
            @Html.ActionLink("Chi tiết", "Details", new { id=item.MaLopTC }) |
            @Html.ActionLink("Xóa lớp", "Delete", new { id=item.MaLopTC })
        </td>
    </tr>
}

</table>
